name: Contexts
on:
  push:
  workflow_dispatch:
    inputs:
      logLevel:
        required: true
        default: "warning"
env:
  FIRST: "foggle"

# This allows a subsequently queued workflow run to interrupt previous runs
concurrency:
  group: "${{ github.workflow }} @ ${{ github.event.pull_request.head.label || github.head_ref || github.ref }}"
  cancel-in-progress: true

jobs:
  dump_contexts_to_log:
    runs-on: ubuntu-latest
    steps:
      - name: github
        run: echo '${{ toJson(github)}}'
      - name: job
        run: echo '${{toJson(job)}}'
      - name: steps
        run: echo '${{toJson(steps)}}'
      - name: runner
        run: echo '${{toJson(runner)}}'
      - name: strategy
        run: echo '${{toJson(strategy)}}'
      - name: matrix
        run: echo '${{matrix}}'
      - name: env
        run: echo '${{env}}'
        env:
          LAST: "hoogle"
      - run: sleep 10
      - name: vars
        run: echo ${{vars}}
